<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MediAI — Smart Hospital Bed System</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=DM+Mono:wght@400;500&family=Outfit:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

    <!-- HEADER -->
    <header>
        <div class="header-inner">
            <div class="logo">
                <span class="logo-icon">⚕</span>
                <span class="logo-text">Medi<span class="accent">AI</span></span>
            </div>
            <div class="live-badge">
                <span class="live-dot"></span> LIVE
            </div>
        </div>
    </header>

    <!-- HERO -->
    <section class="hero">
        <p class="hero-tag">INNOVATHON 2026 · Presidency University</p>
        <h1>Smart Hospital Bed &amp;<br>Emergency Guidance</h1>
        <p class="hero-sub">Describe your symptoms — AI will assess urgency, recommend a department, and find available beds near you.</p>
    </section>

    <!-- MAIN -->
    <main>

        <!-- SYMPTOM INPUT SECTION -->
        <section class="card" id="inputSection">
            <h2 class="card-title"><span class="step-num">01</span> Symptom Analyzer</h2>

            <label class="field-label" for="symptomsInput">Describe your symptoms</label>
            <textarea
                id="symptomsInput"
                placeholder="e.g. I have severe chest pain and difficulty breathing..."
                rows="4"
            ></textarea>

            <div class="input-row">
                <div class="field-group">
                    <label class="field-label" for="ageInput">Patient age</label>
                    <input type="number" id="ageInput" placeholder="e.g. 35" min="0" max="120">
                </div>
                <div class="field-group">
                    <label class="field-label" for="conditionsInput">Pre-existing conditions</label>
                    <select id="conditionsInput">
                        <option value="none">None / Unknown</option>
                        <option value="cardiac">Cardiac</option>
                        <option value="diabetes">Diabetes</option>
                        <option value="neurological">Neurological</option>
                        <option value="other">Other</option>
                    </select>
                </div>
            </div>

            <button id="checkBtn">
                <span id="btnText">&#9889; Analyze &amp; Find Hospitals</span>
                <span id="btnLoader" class="hidden">
                    <span class="spinner"></span> Analyzing...
                </span>
            </button>

            <p class="error-msg hidden" id="inputError">Please describe your symptoms before analyzing.</p>
        </section>

        <!-- URGENCY RESULT -->
        <section class="card hidden" id="urgencySection">
            <h2 class="card-title"><span class="step-num">02</span> AI Analysis Result</h2>

            <div id="urgencyBadge" class="urgency-badge"></div>

            <div class="result-grid">
                <div class="result-item">
                    <span class="result-label">Priority Score</span>
                    <span class="result-value mono" id="scoreValue">—</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Department</span>
                    <span class="result-value" id="deptValue">—</span>
                </div>
                <div class="result-item full-width">
                    <span class="result-label">Advice</span>
                    <span class="result-value advice" id="adviceValue">—</span>
                </div>
                <div class="result-item full-width">
                    <span class="result-label">Detected Symptoms</span>
                    <div id="symptomsDetected" class="tags-row"></div>
                </div>
            </div>

            <div class="meter-wrap">
                <div class="meter-track">
                    <div class="meter-fill" id="meterFill"></div>
                </div>
                <div class="meter-labels">
                    <span>Low</span><span>Moderate</span><span>High</span><span>Critical</span>
                </div>
            </div>
        </section>

        <!-- EMERGENCY PANEL -->
        <section id="emergencyPanel" class="emergency-panel hidden">
            <div class="emergency-inner">
                <span class="emergency-icon">&#128680;</span>
                <div>
                    <h2>CRITICAL EMERGENCY DETECTED</h2>
                    <p>Immediate medical attention required. Do not wait — call an ambulance now.</p>
                </div>
            </div>
            <a href="tel:108">
                <button class="emergency-btn">&#128657; Call Ambulance — Dial 108</button>
            </a>
        </section>

        <!-- HOSPITAL DASHBOARD -->
        <section class="card hidden" id="hospitalSection">
            <h2 class="card-title"><span class="step-num">03</span> Nearby Hospital Bed Availability</h2>
            <p class="section-sub" id="locationLabel">Fetching your location...</p>
            <div id="hospitalContainer"></div>
        </section>

    </main>

    <footer>
        <p>Built for <span class="accent">INNOVATHON 2026</span> · AI &amp; Intelligent Systems · Team MediAI</p>
    </footer>

    <script src="{{ url_for('static', filename='script.js') }}"></script>

</body>
</html>